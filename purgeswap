#!/bin/sh

if [ $(whoami) != root ]; then
    sudo "$0" $*
    exit $?
fi

SWAPS="$(tail -n +2 /proc/swaps | awk '{print $1}')"

[ -z "$SWAPS" ] && exit 0

for SWAP in $SWAPS; do
    echo "- $SWAP"
    swapoff "$SWAP"
done

for SWAP in $SWAPS; do
    echo "+ $SWAP"
    swapon "$SWAP"
done

